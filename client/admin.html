<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Admin Panel</title>
</head>

<body>

    <div class="admin-layout">

        <div class="danger-sidebar">
            <h3 class="danger-header">‚ö†Ô∏è ZONA DE PELIGRO</h3>

            <div class="danger-item">
                <label>Eliminar Carrera</label>
                <div class="danger-row">
                    <select id="deleteYearSelect" class="form-control danger-select"
                        style="width: 70px; margin-right: 5px;">
                        <option value="2025" selected>2025</option>
                        <option value="2026">2026</option>
                    </select>

                    <select id="deleteRaceSelect" class="form-control danger-select">
                        <option>Cargando...</option>
                    </select>
                    <button id="btnDelete" class="btn-delete">üóëÔ∏è</button>
                </div>
            </div>

            <div class="danger-item">
                <label>Eliminar Piloto</label>
                <div class="danger-row">
                    <select id="deleteDriverYearSelect" class="form-control danger-select"
                        style="width: 70px; margin-right: 5px;">
                        <option value="2025" selected>2025</option>
                        <option value="2026">2026</option>
                    </select>

                    <select id="deleteDriverSelect" class="form-control danger-select">
                        <option>Cargando...</option>
                    </select>

                    <button id="btnDeleteDriver" class="btn-delete">üóëÔ∏è</button>
                </div>
            </div>
        </div>

        <div class="admin-card">
            <h1>üèÅ Control de Carrera</h1>

            <form id="resultForm">
                <div class="form-group">
                    <label style="color:#e10600; font-weight:bold;">TIPO DE SESI√ìN</label>
                    <select id="sessionType" class="form-control" style="border: 1px solid #e10600;">
                        <option value="race">üèÅ Carrera Principal</option>
                        <option value="sprint">‚ö° Carrera Sprint</option>
                        <option value="qualy">‚è±Ô∏è Clasificaci√≥n (Qualy)</option>
                        <option value="sprint-qualy">üî´ Sprint Shootout</option>
                        <option value="practices">üõ†Ô∏è Pr√°cticas Libres</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Temporada</label>
                    <select id="seasonSelect" class="form-control" style="font-weight: bold; color: #e10600;">
                        <option value="2025" selected>2025</option>
                        <option value="2026">2026</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Gran Premio</label>
                    <select id="raceSelect" class="form-control" required>
                        <option>Cargando datos...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Piloto</label>
                    <select id="driverSelect" class="form-control" required>
                        <option>Cargando datos...</option>
                    </select>
                </div>

                <div class="form-group" id="posGroup">
                    <label>Posici√≥n Final</label>
                    <input type="number" id="posInput" class="form-control" placeholder="Ej: 1" min="1">
                </div>

                <div class="form-group" id="gapGroup" style="display:none;">
                    <label>Intervalo / Gap</label>
                    <input type="text" id="gapInput" class="form-control" placeholder="Ej: +5.4s">
                </div>

                <div id="raceExtras" style="display:none; gap: 15px; margin-bottom: 20px;">
                    <div style="flex: 1;">
                        <label>Estado</label>
                        <select id="mainStatus" class="form-control" style="background:#2a2a35;">
                            <option value="finished">‚úÖ Finalizado</option>
                            <option value="dnf" style="color:#ff4444;">üí• DNF</option>
                            <option value="dsq" style="color:orange;">üö´ DSQ</option>
                            <option value="dns" style="color:#aaa;">üëª DNS</option>
                            <option value="dnq" style="color:#aaa;">üê¢ DNQ</option>
                        </select>
                    </div>
                    <div id="vrGroup" style="display:flex; align-items:center; gap:8px; padding-top: 28px;">
                        <input type="checkbox" id="fastestLapInput"
                            style="width: 20px; height: 20px; accent-color: #a01dd6;">
                        <label for="fastestLapInput"
                            style="margin:0; color:#d4a5ff; font-weight:bold; cursor:pointer;">VR</label>
                    </div>
                </div>

                <div id="timeInputs" style="display:none; flex-direction: column; gap:15px; margin-bottom:20px;">
                    <div class="time-row">
                        <input type="text" id="time1" class="form-control" placeholder="Q1">
                        <select id="status1" class="mini-status">
                            <option value="">OK</option>
                            <option value="DNF">DNF</option>
                            <option value="DSQ">DSQ</option>
                            <option value="DNS">DNS</option>
                            <option value="DNQ">DNQ</option>
                        </select>
                    </div>
                    <div class="time-row">
                        <input type="text" id="time2" class="form-control" placeholder="Q2">
                        <select id="status2" class="mini-status">
                            <option value="">OK</option>
                            <option value="DNF">DNF</option>
                            <option value="DSQ">DSQ</option>
                            <option value="DNS">DNS</option>
                            <option value="DNQ">DNQ</option>
                        </select>
                    </div>
                    <div class="time-row">
                        <input type="text" id="time3" class="form-control" placeholder="Q3">
                        <select id="status3" class="mini-status">
                            <option value="">OK</option>
                            <option value="DNF">DNF</option>
                            <option value="DSQ">DSQ</option>
                            <option value="DNS">DNS</option>
                            <option value="DNQ">DNQ</option>
                        </select>
                    </div>
                </div>

                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn-submit" style="flex: 1;">
                        GUARDAR RESULTADO
                    </button>

                    <button type="button" id="btnDeleteResult" title="Borrar datos de este piloto en esta sesi√≥n"
                        style="background: #2a1f1f; border: 1px solid #ff4444; color: #ff4444; width: 60px; border-radius: 6px; cursor: pointer; font-size: 1.5rem; transition: all 0.2s;">
                        üóëÔ∏è
                    </button>
                </div>
                <p id="msg" class="success-msg">‚úÖ ¬°Operaci√≥n exitosa!</p>
            </form>
        </div>

        <div class="creation-sidebar">
            <h3 class="creation-header">‚ú® NUEVOS DATOS</h3>

            <div class="creation-row">

                <div class="creation-item">
                    <label>Nueva Carrera</label>
                    <form id="newRaceForm" class="creation-form-grid">
                        <input type="number" id="newRaceRound" class="form-control" placeholder="Ronda" required>
                        <select id="newCountry" class="form-control" required>
                            <option value="" disabled selected>C√≥d. Pa√≠s</option>
                        </select>
                        <input type="text" id="newRaceName" class="form-control span-full" placeholder="Nombre GP"
                            required>
                        <input type="text" id="newCircuit" class="form-control span-full" placeholder="Circuito"
                            required>
                        <input type="date" id="newDate" class="form-control span-full" required>

                        <div class="span-full">
                            <div class="form-group"
                                style="margin-bottom: 20px; border: 1px solid #333; padding: 10px; border-radius: 5px;">
                                <label style="color:#aaa;">Imagen Preview (Lista):</label>

                                <select id="existingMapSelect" class="form-control"
                                    style="margin-bottom: 10px; background:#222; color:white;">
                                    <option value="">-- Seleccionar existente --</option>
                                </select>

                                <div style="text-align:center; color:#666; font-size:0.8rem; margin:5px 0;">- O SUBIR
                                    NUEVA -</div>

                                <input type="file" id="newMapFile" class="form-control" accept="image/*">

                                <img id="previewMap" src=""
                                    style="display:none; height: 50px; margin-top:5px; border:1px solid #444;">
                            </div>

                            <div class="form-group"
                                style="margin-bottom: 20px; border: 1px solid #333; padding: 10px; border-radius: 5px;">
                                <label style="color:#00ff88;">Imagen Detallada (Modal):</label>

                                <select id="existingCircuitSelect" class="form-control"
                                    style="margin-bottom: 10px; background:#222; color:white;">
                                    <option value="">-- Seleccionar existente --</option>
                                </select>

                                <div style="text-align:center; color:#666; font-size:0.8rem; margin:5px 0;">- O SUBIR
                                    NUEVA -</div>

                                <input type="file" id="newCircuitImageFile" class="form-control" accept="image/*">

                                <img id="previewCircuit" src=""
                                    style="display:none; height: 80px; margin-top:5px; border:1px solid #444;">
                            </div>
                        </div>

                        <div class="span-full"
                            style="display:flex; justify-content: center; align-items:center; gap: 8px; margin: 10px 0;">
                            <input type="checkbox" id="newHasSprint"
                                style="width: 20px; height: 20px; accent-color: #00ff88; cursor: pointer;">
                            <label style="font-size: 0.9rem; margin:0; cursor:pointer; color: white;"
                                for="newHasSprint">Con Sprint</label>
                        </div>

                        <h4 class="span-full" style="color: #666; margin-top: 0; border-bottom: 1px solid #333;">
                            Datos T√©cnicos</h4>

                        <div>
                            <label style="font-size: 75%;">Longitud (ej: 5.278 km):</label>
                            <input type="text" id="newLength" class="form-control" placeholder="5.278 km">
                        </div>
                        <div>
                            <label style="font-size: 75%;">Vueltas (ej: 58):</label>
                            <input type="number" id="newLaps" class="form-control" placeholder="58">
                        </div>

                        <div>
                            <label style="font-size: 75%;">Distancia Total (ej: 306.124 km):</label>
                            <input type="text" id="newDistance" class="form-control" placeholder="306.124 km">
                        </div>
                        <div>
                            <label style="font-size: 75%;">R√©cord Vuelta (ej: 1:19.813 - Leclerc):</label>
                            <input type="text" id="newRecord" class="form-control" placeholder="1:19.813...">
                        </div>

                        <button type="submit" class="btn-create span-full">AGREGAR GP</button>
                    </form>
                </div>

                <div style="width: 1px; background: #333; margin: 0 10px;"></div>

                <div class="creation-item">
                    <label>Nuevo Piloto</label>
                    <form id="newDriverForm" class="creation-form-grid">
                        <input type="text" id="newDriverName" class="form-control" placeholder="Nombre" required>
                        <input type="text" id="newDriverLastname" class="form-control" placeholder="Apellido" required>
                        <input type="number" id="newDriverNum" class="form-control" placeholder="N¬∞" required>
                        <select id="newDriverCountry" class="form-control" required>
                            <option>Pa√≠s</option>
                        </select>
                        <select id="newDriverTeam" class="form-control span-full" required>
                            <option>Equipo</option>
                        </select>
                        <input type="file" id="newDriverFile" class="form-control span-full">

                        <div class="span-full" style="margin-top: 10px;">
                            <label style="color: #aaa; font-size: 0.9rem;">Participa en:</label>
                            <div style="display: flex; gap: 15px; margin-top: 5px;">
                                <div style="display:flex; align-items:center; gap:5px;">
                                    <input type="checkbox" id="season2025" value="2025" checked>
                                    <label for="season2025" style="color:white; margin:0;">2025</label>
                                </div>
                                <div style="display:flex; align-items:center; gap:5px;">
                                    <input type="checkbox" id="season2026" value="2026" checked>
                                    <label for="season2026" style="color:white; margin:0;">2026</label>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn-create span-full" style="margin-top:15px;">AGREGAR
                            PILOTO</button>
                    </form>
                </div>

            </div>
        </div>

    </div>

    <script type="module" src="./src/admin.js"></script>
</body>

</html>